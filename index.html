
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* ============================= */
  /* SCROLL REVEAL SYSTEM */
  /* ============================= */

  const faders = document.querySelectorAll('.fade-up, .fade-soft');

  if ("IntersectionObserver" in window) {
    const appearOptions = {
      threshold: 0.2
    };

    const appearOnScroll = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      });
    }, appearOptions);

    faders.forEach(fader => {
      appearOnScroll.observe(fader);
    });
  }

  /* ============================= */
  /* PARALLAX SYSTEM (SMOOTH) */
  /* ============================= */

  let scrollY = 0;
  let ticking = false;

  function updateParallax() {
    document.querySelectorAll('.parallax-bg').forEach(bg => {
      bg.style.transform = `translateY(${scrollY * 0.3}px)`;
    });

    document.querySelectorAll('.float-slow').forEach(el => {
      el.style.transform = `translateY(${scrollY * 0.05}px)`;
    });

    ticking = false;
  }

  window.addEventListener('scroll', function () {
    scrollY = window.pageYOffset;
    if (!ticking) {
      window.requestAnimationFrame(updateParallax);
      ticking = true;
    }
  });

});
</script>
